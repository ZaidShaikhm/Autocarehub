{% extends "Autocareapp/adminmenu.html" %} {% block content %}
<div class="container">
  <div class="card">
    <h2>Change Password</h2>

    {% if messages %} {% for message in messages %}
    <div class="alert">{{ message }}</div>
    {% endfor %} {% endif %}

    <form method="POST" onsubmit="return validatePassword();">
      {% csrf_token %}

      <label for="currentpassword">Current Password:</label>
      <input
        type="password"
        name="currentpassword"
        id="currentpassword"
        required
      />

      <label for="newpassword">New Password:</label>
      <input type="password" name="newpassword" id="newpassword" required />

      <label for="confirmpassword">Confirm New Password:</label>
      <input type="password" id="confirmpassword" required />

      <div class="d-flex justify-content-between">
        <button type="submit">Change Password</button>
        <button type="reset">Cancel</button>
      </div>
    </form>
  </div>
</div>

<!-- CSS STYLES -->
<style>
  /* Main container for the form */
  .container {
    margin-top: 40px;
    display: flex;
    justify-content: center;
  }

  /* Main card styling */
  .card {
    background-color: rgba(4, 25, 56, 0.25);
    width: 450px; /* Adjusted smaller width */
    border-radius: 10px;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
    padding: 25px;
  }

  /* Form title */
  .card h2 {
    font-size: 1.8rem;
    color: #00102e;
    text-align: center;
    margin-bottom: 15px;
    font-family: "Orbitron", sans-serif;
  }

  /* Form field labels */
  .card label {
    font-weight: 600;
    margin-bottom: 5px;
    font-family: "Oswald", sans-serif;
  }

  /* Form input styling */
  .card input {
    border-radius: 5px;
    border: 1px solid #ccc;
    padding: 10px;
    width: 100%;
    margin-bottom: 15px;
    font-family: "Oswald", sans-serif;
  }

  /* Button styles */
  .card button {
    width: 48%;
    padding: 10px;
    font-weight: 600;
    font-family: "Orbitron", sans-serif;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  .card button[type="submit"] {
    background-color: #031029;
    color: white;
    margin-right: 4%;
  }

  .card button[type="reset"] {
    background-color: rgba(142, 111, 1, 0.823);
    color: white;
  }

  .card button:hover {
    opacity: 0.9;
  }

  /* Alert message styling */
  .alert {
    background-color: #d4edda;
    color: #155724;
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 15px;
    text-align: center;
  }

  /* Responsive Design */
  @media (max-width: 600px) {
    .card {
      width: 90%;
    }
  }
</style>

<!-- JavaScript for password validation -->
<script>
  function validatePassword() {
    let newPassword = document.getElementById("newpassword").value;
    let confirmPassword = document.getElementById("confirmpassword").value;

    if (newPassword !== confirmPassword) {
      alert("New password and confirm password do not match.");
      return false;
    }
    return true;
  }
</script>

{% endblock %}
